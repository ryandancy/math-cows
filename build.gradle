buildscript {
    repositories {
        jcenter()
        mavenCentral()
    }
    dependencies {
        classpath 'org.junit.platform:junit-platform-gradle-plugin:1.0.2'
        classpath 'edu.sc.seis.gradle:launch4j:2.4.2'
    }
}

apply plugin: 'idea'
apply plugin: 'java'
apply plugin: 'org.junit.platform.gradle.plugin'
apply plugin: 'edu.sc.seis.launch4j'

sourceSets {
    main {
        java {
            srcDir 'src'
        }
        resources {
            srcDir 'res'
        }
    }
    test {
        java {
            srcDir 'test'
        }
    }
}

repositories {
    mavenCentral()
}

dependencies {
    compile 'org.projectlombok:lombok:1.16.18'
    testCompile 'org.junit.jupiter:junit-jupiter-api:5.0.2'
    testRuntime 'org.junit.jupiter:junit-jupiter-engine:5.0.2'
}

launch4j {
    mainClassName = 'ca.keal.raomk.Main'
    icon = "${projectDir}/icon.ico"
    textVersion = '1.0'
    if (project.hasProperty('bundleJre')) {
        bundledJrePath = 'jre'
    }
}

// a hack so that Mr MacIntyre doesn't have to install Java on a school computer
// ignore if you're not me
if (project.hasProperty('bundleJre')) {
    copy {
        from "$System.env.ProgramFiles/Java/jre1.8.0_144"
        into "${projectDir}/build/launch4j/jre"
    }
}